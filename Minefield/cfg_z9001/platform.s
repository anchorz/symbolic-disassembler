z9001                           =       0
z1013                           =       1
ta_alpha                        =       0
;
; z9001 os specific constants
;
BWS                             =       0xec00
BWS_LINE_WIDTH                  =       40
BWS_HEIGHT                      =       24
BWS_SIZE                        =       40*24

VK_CLS                          =       0x0c
VK_ENTER                        =       0x0d
VK_LEFT                         =       0x08
VK_RIGHT                        =       0x09
VK_UP                           =       0x0b
VK_DOWN                         =       0x0a

BOS                             =       0x0005

UP_CONSI                        =       1; console input
UP_PRNST                        =       9; print string
UP_CSTS                         =       11; console status
;
; application specific constants
;
CHR_MAN                         =       0xc4
CHR_VISITED                     =       0xff
CHR_FREE                        =       ' '
CHR_BONUS                       =       0xca
CHR_MINE                        =       0xc9
END_ROW                         =       2
END_SCREEN_CORRECTION           =       5 ; starting line of the text
START_ROW                       =       BWS_HEIGHT-2
START_COLUMN                    =       (BWS_LINE_WIDTH/2)-1
END_COLUMN                      =       (BWS_LINE_WIDTH/2)-1
CUT_OFF                         =       (START_ROW-END_ROW-3)*BWS_LINE_WIDTH

.macro  PROGRAM_HEADER
        jp START
        .ascii 'MINES   '
        .dw 0
START:
.endm

.macro  JOYSTICK_INIT
.endm

.macro  FILL_BACKGROUND_COLOR
        ld de,#BWS-0x3ff
        ld hl,#BWS-0x400
        ld bc,#BWS_SIZE-1
        ld a,#0x70 ; white
        ld (hl),a
        ldir
.endm

.macro  END_MESSAGE
        ld c,#UP_PRNST
        ld de,#str_exit
        call BOS
        xor a
        ret
str_exit:
        .asciz 'Auf Wiedersehen! Und weg... '
.endm

.macro  QUIT_SOUND
.endm

.macro  CLICK_SOUND
.endm

.macro  INKEY
        ld c,#UP_CSTS
        call BOS
        or a
        jr z,up_inch
        ld c,#UP_CONSI
        call BOS
.endm

.macro  JOYSTICK
.endm

.macro  TXT_MINES
        .ascii 'MINEN:'
.endm

.macro  TXT_PUNKTE
        .ascii '     PUNKTE:'
.endm

.macro  TXT_EMPTY_SCREEN
        .ascii '     '
ofs_vorsicht   .equ .-txt_empty_screen
        .ascii '                 '

        .db 0xa8
        .rept (BWS_LINE_WIDTH/2-3)
        .db 0xa0
        .endm
        .db 0xa4,0xa0,0xa4
        .rept (BWS_LINE_WIDTH/2-2)
        .db 0xa0
        .endm
        .db 0xa9

        .db 0xa3
        .rept (BWS_LINE_WIDTH/2-3)
        .db 0xa0
        .endm
        .db 0xaa,0x20,0xa7
        .rept (BWS_LINE_WIDTH/2-2)
        .db 0xa0
        .endm
        .db 0xa5

        .rept (BWS_HEIGHT-5)
                .db 0xa1
                .rept (BWS_LINE_WIDTH-2)
                .db 0x20
                .endm
                .db 0xa1
        .endm

        .db 0xa3
        .rept (BWS_LINE_WIDTH/2-3)
        .db 0xa0
        .endm
        .db 0xa9,0x20,0xa8
        .rept (BWS_LINE_WIDTH/2-2)
        .db 0xa0
        .endm
        .db 0xa5

        .db 0xa7
        .rept (BWS_LINE_WIDTH/2-3)
        .db 0xa0
        .endm
        .db 0xa2,0xa0,0xa2
        .rept (BWS_LINE_WIDTH/2-2)
        .db 0xa0
        .endm
        .db 0xaa
.endm

.macro TITLE_IMG_CONTENT
        .ascii '\256\236\236\236\236\236\236\236\236\236\255           \212   \212\212  \212         '
        .ascii '\237\271\266\263\262\266\270 \275\260\300          \212 \212\222\223\236\236\226\225\212\212        '
        .db 0x9f,0xb8,0xb7,0x20,0xb5,0x20,0x20,0x20
        .db 0xb5,0x20,0xc0,0x20,0x20,0x20,0x20,0x20
        .db 0x20,0x20,0x20,0x20,0x20,0x8a,0x20,0x99
        .db 0x20,0x20,0x20,0x20,0x20,0x20,0x9b
        .ascii '         '
        .db 0x9f,0xb3,0x20,0xb4,0xb5,0x20,0xb2,0x20
        .db 0xb5,0x20,0xc0,0x20,0x20,0x20,0x20,0x20
        .db 0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x98
        .db 0x20,0xc9,0x20,0x20,0xc9,0x20,0x9c
        .ascii ' S Start '

        .db 0x9f,0xb1,0xb6,0x20,0x20,0xb6,0xb0,0x20
        .db 0xb6,0xb0,0xc0,0x20,0x92,0x93,0x9e,0x9e
        .db 0x96,0x95,0x20,0x20,0x20,0x20,0x20,0x9f
        .db 0x20,0x20,0x86,0x87,0x20,0x20,0xc0
        .ascii '         '
        
        .db 0x9f
        .ascii 'presents:'
        .db 0xc0,0x99,0x20,0x20,0x20,0x20
        .db 0x20,0x20,0x9b,0x20,0x20,0x20,0x20,0x9b
        .db 0x20,0x20,0x85,0x84,0x20,0x20,0x99
        .ascii ' \235 Hoch  '

        .db 0xab,0xf8,0xf8,0xf8,0xf8,0xf8,0xf8,0xf8
        .db 0xf8,0xf8,0xac,0x98,0x20,0xc9,0x20,0x20
        .db 0xc9,0x20,0x9c,0x20,0x20,0x20,0x20,0x9c
        .db 0x20,0x86,0x92,0x95,0x87,0x20,0x98
        .ascii '         '
        
        .ascii '           '
        .db 0x9f,0x20,0x20,0x86,0x87
        .db 0x20,0x20,0xc0,0x20,0x20,0x20,0x20,0x20
        .db 0x96,0x95,0xf8,0xf8,0x92,0x93
        .ascii '  \232 Runter'

        .ascii '           '
        .db 0x9b,0x20,0x20,0x85,0x84 ;   .  ..
        .db 0x20,0x20,0x99,0x20,0x20,0x20,0x20,0x20 ;  .     
        .db 0x20,0x20,0x9f,0xc0
        .ascii '            '
        
        .ascii ' Now you   '
        .db 0x9c,0x20,0x85,0x95,0x92 ;   . ...
        .db 0x84,0x20,0x98,0x20,0x20,0x20,0x20,0x20 ;. .     
        .db 0x20,0xdf,0x9f,0xc0,0xdc,0x20,0x20,0x20 ; _.@\   
        .ascii '\224 Links '

        .db 0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20 ;        
        .db 0x20,0x20,0x20,0x20,0x96,0x95,0xf8,0xf8 ;    ..xx
        .db 0x92,0x93,0x20,0x20,0x20,0x20,0x20,0x20 ;..      
        .db 0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20 ;        
        .ascii '        '
        
        .ascii ' are happy '
        .db 0xdb,0xf8,0x90,0x20,0x20,0x9e,0x96,0xd8
        .ascii '   but be    \227 Rechts'

        .ascii '                 '
        .db 0xb7,0xff,0xff,0xb7
        .ascii '  carefull!        '

        .ascii '                                        '
        .ascii '                                 oder   '

        .db 0x20,0x20,0x20,0x20,0xb2,0x20,0xb2,0x20 ;    2 2 
        .db 0xb3,0x20,0x20,0x20,0x20,0x20,0x20,0x20 ;3       
        .db 0xb2,0xb3,0xb3,0x20,0x20,0x20,0xb2,0x20 ;233   2 
        .db 0x20,0x20,0xb3,0x20,0x20,0x20,0x20,0x20 ;  3     
        .ascii '        '
        .db 0x20,0xb8,0x20,0x20,0xb5,0xb8,0xbd,0x20 ; 8  58= 
        .db 0xb3,0xb2,0xb2,0x20,0x20,0xb7,0xb3,0x20 ;322  73 
        .db 0xb4,0x20,0xb3,0x20,0xb7,0xb3,0xb5,0x20 ;4 3 735 
        .db 0xb2,0xb7,0xb4,0x20,0xb2,0xb0,0x20,0x20 ;274 20  
        .ascii 'Joystick'

        .db 0x20,0xb2,0xb0,0x20,0xb5,0x20,0xb5,0x20 ; 20 5 5 
        .db 0xb4,0xb5,0xb0,0xb4,0xb5,0xb7,0xb9,0xb1 ;45045791
        .db 0xbc,0x20,0xb4,0xb5,0xb7,0xb9,0xb5,0x20 ;< 45795 
        .db 0xb4,0x20,0xb4,0x20,0xb8,0x20,0x20,0x20 ;4 4 8   
        .ascii '        '
        .db 0x20,0xb0,0x20,0x20,0xb5,0x20,0xb5,0xb2 ; 0  5 52
        .db 0xbb,0xb5,0x20,0xbb,0xb1,0xb7,0xb7,0x20 ;;5 ;177 
        .db 0xb4,0xb2,0xbb,0xb1,0xb7,0xb7,0xb5,0xb3 ;42;17753
        .db 0xb8,0xb7,0xb4,0x20,0x20,0xb0

        .ascii '          '
        .ascii '                                        '
        .ascii '                                        '
        .ascii '     C-1987 SOFTWARE CENTER ILMENAU     '
        .ascii '          by DIRK STREHLE               '
        .ascii '     2017 MOD by Andreas Ziermann       '
.endm

