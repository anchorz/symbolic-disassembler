z9001                           =       0
z1013                           =       1
;
; z1013 specific constants
;
CURSR_CHAR                      =       0x001F ; B Code-Zwischenspeicher fuer OUTCH
CURSR                           =       0x002B ; W aktuelle Cursorposition
BWS                             =       0xec00

OUTCH                           =       0x00
INCH                            =       0x01
PRST7                           =       0x02
INLIN                           =       0x05

VK_CLS                          =       0x0c
VK_ENTER                        =       0x0d
VK_LEFT                         =       0x08
VK_RIGHT                        =       0x09
VK_UP                           =       0x0b
VK_DOWN                         =       0x0a
;
; platform specific constants
;
FG_BLACK                        =       0x00
FG_GREEN                        =       0x20
FG_CYAN                         =       0x60
BG_BLACK                        =       0x00
BG_GREEN                        =       0x02
BG_YELLOW                       =       0x03
FRAME_COLOR                     =       FG_CYAN+BG_YELLOW
STONE_COLOR                     =       FG_BLACK+BG_GREEN
RED_STONE_COLOR                 =       FG_BLACK+BG_GREEN
SELC                            =       0xc2
SELCR                           =       0xc3
SCREEN_WIDTH                    =       32
SCREEN_HEIGHT                   =       32
POSY_INPUT_LINE                 =       26
POSX_INPUT_LINE                 =       17
INPUT_LINE_size                 =       14
POSITION_MOVES                  =       BWS+18*SCREEN_WIDTH+27
POSITION_SUCCESS                =       BWS+20*SCREEN_WIDTH+17
POSITION_FIELD                  =       BWS+15*SCREEN_WIDTH+2
POSITION_LEVEL                  =       BWS+14*SCREEN_WIDTH+24
POSITION_PUZZEL                 =       BWS+16*SCREEN_WIDTH+27
POSITION_INPUT_LINE             =       BWS+POSY_INPUT_LINE*SCREEN_WIDTH+POSX_INPUT_LINE

.macro CURSOR_DISABLE
        call    cursor_disable
.endm

.macro STONE_GFX
waag2:
        .db     0x02,0x04
        .db     0xc1,0x9e,0x9e,0x89
        .db     0x88,0xf8,0xf8,0xc8
waag3:
        .db     0x02,0x06
        .db     0xc1,0x9e,0x9e,0x9e,0x9e,0x89
        .db     0x88,0xf8,0xf8,0xf8,0xf8,0xc8
senk2:
        .db     0x04,0x02
        .db     0xc1,0x89
        .db     0x9f,0xc0
        .db     0x9f,0xc0
        .db     0x88,0xc8
senk3:
        .db     0x06,0x02
        .db     0xc1,0x89
        .db     0x9f,0xc0
        .db     0x9f,0xc0
        .db     0x9f,0xc0
        .db     0x9f,0xc0
        .db     0x88,0xc8
red2:
        .db     0x02,0x04
        .db     0xff,0xff,0xff,0xff
        .db     0xff,0xff,0xff,0xff
.endm

.macro UP_INCH
        rst     0x20
        .db     INCH
.endm

.macro UP_OUTCH
        rst     0x20
        .db     OUTCH
.endm

.macro  SYS_EXIT
        rst     0x20
        .db     PRST7
        .ascii  'BLOCKs - FREE THE STONE -'
        .db     0x8d
        rst     0x38
.endm

.macro  CALL_OUTA
        rst     0x20
        .db     OUTCH
.endm

.macro  INPUT_LINE
        call    inline
.endm

.macro  SET_CURSOR ADR
        push    hl
        ld      hl,#ADR
        ld      (CURSR),hl
        pop     hl
.endm

.macro ROLL_SMALL_WIN
        call    cls_small_window
.endm


.macro  TXT_ERROR
        .asciz  'ER'
.endm

.macro MAIN_PIC
        .ascii  '                                '
        .ascii  '                                '

        .db     0x9e,0x9e,0x9e,0x9e,0x9e,0x9e,0x9e,0x9e,0x9e,0x9e,0x9e,0x9e,0x9e,0x9e,0x9e,0x9e
        .db     0x9e,0x9e,0x9e,0x9e,0x9e,0x9e,0x9e,0x9e,0x9e,0x9e,0x9e,0x9e,0x9e,0x9e,0x9e,0x9e
        
        .db     0x20,0xA8,0xA9,0x20,0xA1,0x20,0xA8,0xA9,0xA8,0xA0,0xA1,0xA1,0x20,0xA8,0xA0,0x20
        .db     0x20,0x56,0x50,0x4F,0x48,0x4C,0x45,0x52,0x53,0x20,0x20,0x32,0x30,0x32,0x30,0x20
        
        .db     0x20,0xA3,0xA2,0xA9,0xA1,0x20,0xA1,0xA1,0xA1,0x20,0xA3,0xA2,0xA9,0xA7,0xA9,0x20
        .db     0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20

        .db     0x20,0xA7,0xA0,0xAA,0xA7,0xA0,0xA7,0xAA,0xA7,0xA0,0xA1,0x20,0xA1,0xA0,0xAA,0x20
        .db     0x2D,0x46,0x52,0x45,0x45,0x20,0x54,0x48,0x45,0x20,0x53,0x54,0x4F,0x4E,0x45,0x2D
        
        .db     0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8
        .db     0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8,0xF8

        .ascii  '                                '
        .ascii  '                                '
        .ascii  '                                '
        .ascii  ' E,S,D,X select    e,s,d,x move '
        .ascii  '       <SPACE> toggle           '
        .ascii  '                                '
        .ascii  '                                '

        .db     0x20,0xBC,0xB6,0xB6,0xB6,0xB6,0xB6,0xB6,0xB6,0xB6,0xB6,0xB6,0xB6,0xB6,0xBD,0x20
        .db     0x20,0x4C,0x65,0x76,0x65,0x6C,0x20,0x20,0x42,0x65,0x67,0x69,0x6E,0x6E,0x65,0x72
        
        .db     0x20,0xB4,0xC1,0x9E,0x9E,0x9E,0x9E,0x89,0x20,0x20,0x20,0x20,0xC1,0x89,0xB5,0x20
        .db     0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20
        
        .db     0x20,0xB4,0x88,0xF8,0xF8,0xF8,0xF8,0xC8,0x20,0x20,0x20,0x20,0x9F,0xC0,0xB5,0x20
        .db     0x20,0x50,0x75,0x7A,0x7A,0x6C,0x65,0x20,0x20,0x20,0x20,0x30,0x30,0x30,0x30,0x31
        
        .db     0x20,0xB4,0x20,0x20,0x20,0x20,0xC1,0x89,0x20,0x20,0x20,0x20,0x9F,0xC0,0xB5,0x20
        .db     0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20
        
        .db     0x20,0xB4,0x20,0x20,0x20,0x20,0x9F,0xC0,0x20,0x20,0x20,0x20,0x9F,0xC0,0xB5,0x20
        .db     0x20,0x4D,0x6F,0x76,0x65,0x73,0x20,0x20,0x20,0x20,0x20,0x30,0x30,0x30,0x30,0x30
        
        .db     0x20,0xB4,0xC3,0xFF,0xFF,0xFF,0x9F,0xC0,0x20,0x20,0x20,0x20,0x9F,0xC0,0x20,0x20
        .db     0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20
        
        .db     0x20,0xB4,0xFF,0xFF,0xFF,0xFF,0x9F,0xC0,0x20,0x20,0x20,0x20,0x88,0xC8,0x20,0x20
        .db     0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20
        
        .db     0x20,0xB4,0xC1,0x89,0x20,0x20,0x9F,0xC0,0x20,0x20,0xC1,0x9E,0x9E,0x89,0xB5,0x20
        .db     0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20
        
        .db     0x20,0xB4,0x9F,0xC0,0x20,0x20,0x88,0xC8,0x20,0x20,0x88,0xF8,0xF8,0xC8,0xB5,0x20
        .db     0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20
        
        .db     0x20,0xB4,0x9F,0xC0,0x20,0x20,0x20,0x20,0x20,0x20,0xC1,0x89,0x20,0x20,0xB5,0x20
        .ascii  ' Code/Reset/Quit'
        
        .db     0x20,0xB4,0x88,0xC8,0x20,0x20,0x20,0x20,0x20,0x20,0x9F,0xC0,0x20,0x20,0xB5,0x20
        .db     0x20,0xee,0x20,0x20,0x20,0x20,0xee,0x20,0x20,0x20,0x20,0x20,0xee,0x20,0x20,0x20
        
        .db     0x20,0xB4,0xC1,0x9E,0x9E,0x9E,0x9E,0x89,0x20,0x20,0x9F,0xC0,0x20,0x20,0xB5,0x20
        .db     0xA8,0xA0,0xA0,0xA0,0xA0,0xA0,0xA0,0xA0,0xA0,0xA0,0xA0,0xA0,0xA0,0xA0,0xA0,0xA9
        
        .db     0x20,0xB4,0x88,0xF8,0xF8,0xF8,0xF8,0xC8,0x20,0x20,0x88,0xC8,0x20,0x20,0xB5,0x20
        .db     0xA1,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0xA1
        
        .db     0x20,0xBB,0xFB,0xFB,0xFB,0xFB,0xFB,0xFB,0xFB,0xFB,0xFB,0xFB,0xFB,0xFB,0xBA,0x20
        .db     0xA7,0xA0,0xA0,0xA0,0xA0,0xA0,0xA0,0xA0,0xA0,0xA0,0xA0,0xA0,0xA0,0xA0,0xA0,0xAA
        .ascii  '                                '
        .ascii  '                                '
        .ascii  '                                '
        .ascii  '                                '

.endm

.macro CLS_SMALL_WINDOW
        call    cls_small_window
.endm

.macro CLS_FULL_WINDOW
        ld      a,#VK_CLS
        rst     0x20
        .db     OUTCH
.endm

.macro DECOMP
decomp:
        ld      de,#BWS
        ld      bc,#SCREEN_WIDTH*SCREEN_HEIGHT
        ldir
        ret
.endm

.macro PUT_A_COLORED
        ld      (hl),a
.endm

.macro SET_STONE_COLOR
.endm

.macro SET_NORMAL_STONE_COLOR
.endm

.macro SET_RED_STONE_COLOR
.endm