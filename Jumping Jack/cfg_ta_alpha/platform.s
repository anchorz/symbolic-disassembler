z9001                           =       0
z1013                           =       0
ta_alpha                        =       1
;
; ta specific constants
;
BWS                             =       0xf000
OFFSET_COLOR                    =       0x0800
cfg10_settings                  =       0xe468
cfg20_settings                  =       0xe469
crt_cls                         =       0xe9e8
mon_reboot                      =       0xe023
CFG10                           =       0x10
CFG20                           =       0x20
CRT_REG                         =       0x50
CRT_DATA                        =       0x51
REG_10_CURSOR_START             =       10 

VK_CLS                          =       0x0c
VK_ENTER                        =       0x0d
VK_LEFT                         =       0x1d
VK_RIGHT                        =       0x1c
VK_UP                           =       0x1e
VK_DOWN                         =       0x1f

FG_BLACK                        =       0
FG_BLUE                         =       1
FG_RED                          =       2
FG_MAGENTA                      =       3
FG_GREEN                        =       4
FG_CYAN                         =       5
FG_YELLOW                       =       6
FG_WHITE                        =       7
BG_BLACK                        =       0*8
BG_BLUE                         =       1*8
BG_RED                          =       2*8
BG_MAGENTA                      =       3*8
BG_GREEN                        =       4*8
BG_CYAN                         =       5*8
BG_YELLOW                       =       6*8
BG_WHITE                        =       7*8

SCREEN_WIDTH                    =       40
SCREEN_HEIGHT                   =       24

VK_HEART                        =       0xf0
CHR_WALL                        =       0xef
CHR_MAN_HEAD                    =       0xfc
CHR_MAN_STAY                    =       0xe5
CHR_MAN_WALK                    =       0xe7
TRANSITION_MAN_WALK_STAY        =       -2
CHR_MOVING_LINE                 =       0x0c
VK_PLAYER                       =       0xfe
CHR_SMOKE                       =       0xd0
CHR_MAN_SLEEP                   =       0xea
CHR_MAN_SLEEP_HEAD              =       0xed
CHR_ARROW_RIGHT_TOP             =       0xf6
CHR_ARROW_RIGHT_BOTTOM          =       0xf4
CHR_LINE_TOP                    =       0x8f
CHR_LINE_BOTTOM                 =       0x03
CHR_MIDDLE_LINE                 =       0xe4
;
; program specific constants
;
TOP_LINES                       =       14
TITLE_TOP_SIZE                  =       SCREEN_WIDTH*TOP_LINES
MENU_TOP                        =       (TOP_LINES+2)
ALIGN_MIDDLE                    =       4
GAMES_LINES                     =       6
GAME_START_Y                    =       2
SLOW_DOWN_13066                 =       28000
POS_LIVES                       =       BWS+23*SCREEN_WIDTH
POS_TOP_WALL                    =       BWS+ 1*SCREEN_WIDTH
POS_TOP_GAME                    =       BWS+ 0*SCREEN_WIDTH+8+ALIGN_MIDDLE
POS_GAME_OVER                   =       BWS+ 0*SCREEN_WIDTH+9+ALIGN_MIDDLE
POS_COPYRIGHT                   =       SCREEN_WIDTH*22
HINT_COPYRIGHT_size             =       0x001e
POSDIFF_NAME                    =       SCREEN_WIDTH-HINT_COPYRIGHT_size+3
POSDIFF_YEAR                    =       5
POSDIFF_POINTS                  =       8
POSDIFF_YOUR_SCORE              =       -(SCREEN_WIDTH)
POSDIFF_YOUR_SCORE_DY           =       3
POSDIFF_HIGHSCORE_DY            =       4
MONSTER_CORRECTION              =       1

.macro PROGRAM_START
        ld      hl,#s__CODE
        ld      de,#s__CODE
        ld      bc,#l__CODE
        ldir
        ld      hl,#cfg10_settings
        res     6,(hl)                                  ;ROM_PACK_EN
        ld      a,(hl)
        out     (CFG10),a
        call    crt_cls
        call    crt_cursor_disable
.endm

.macro SCREEN_POS
        .ascii '    '
 .endm

.macro CLRSCR
        call    crt_cls
.endm

.macro OUTCH
        call    putcharA
.endm

.macro INCH
        call    inch
.endm

.macro PRST7
        call    prst7
.endm

.macro INKEY
        call    inkey
.endm

.macro END_PROGRAM
        jp      exit
.endm

.macro SET_CURSOR_DE    Y,X
        ld      de,#BWS+Y*SCREEN_WIDTH+X
        ld      (CURSOR),de
.endm

.macro SET_CURSOR_HL    Y,X
        ld      hl,#BWS+Y*SCREEN_WIDTH+X
        ld      (CURSOR),hl
.endm

.macro SET_CURSOR
        ld      (CURSOR),hl
.endm

.macro REMOVE_CURSOR
        ;actually restores HL
        ld      hl,(CURSOR)
.endm

.macro CURSOR_DISABLE
.endm

.macro Z1013_LINE
.endm

.macro TOP_IMAGE_CONTENT
        ; line 1
        SCREEN_POS
        .db     0xe0,0xe4,0xe4,0xe4,0xe4,0xe4,0xe4,0xe4,0xe4,0xe4,0xe1
        .db     0x20,0x20,0x20,0x20,0x20
        .db     0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20
        .db     0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20
        SCREEN_POS
        
        ; line 2
        SCREEN_POS
        .db     0xe5,0x16,0x03,0x04,0x97,0x03,0x09,0x20,0x94,0x01,0xe5
        .db     0x20,0x20,0x20,0x20,0x20
        .db     0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x95
        .db     0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20
        SCREEN_POS

        ; line 3
        SCREEN_POS
        .db     0xe5,0x9a,0x8f,0x20,0x95,0x20,0x20,0x20,0x95,0x20,0xe5
        .db     0x20,0x20,0x20,0x20,0x20
        .db     0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x95
        .db     0x20,0x20,0x20,0x20,0x8f,0x8f,0x20,0x20
        SCREEN_POS

        ; line 4
        SCREEN_POS
        .db     0xe5,0x10,0x20,0x15,0x95,0x20,0x9f,0x20,0x95,0x20,0xe5
        .db     0x20,0x20,0x20,0x20,0x20
        .db     0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20
        .db     0x03,0x8f,0x20,0x16,0x9f,0x9f,0x96,0x20
        SCREEN_POS

        ; line 5
         SCREEN_POS
        .db     0xe5,0x02,0x03,0x20,0x20,0x03,0x01,0x20,0x03,0x01,0xe5
        .db     0x20,0x20,0x20,0x20,0x20
        .db     0x20,0x20,0x9f,0x10,0x20,0x20,0x20,0x20
        .db     0x20,0x85,0x0c,0x15,0x15,0x0c,0x95,0x20
        SCREEN_POS

        ; line 6
        SCREEN_POS
        .db     0xe5,0x70,0x72,0x65,0x73,0x65,0x6e,0x74,0x73,0x3a,0xe5
        .db     0x20,0x20,0x20,0x20,0x20
        .db     0x20,0x9f,0x01,0x02,0x10,0x20,0x20,0x8f
        .db     0x03,0x02,0x10,0x96,0x02,0x02,0x16,0x20
        SCREEN_POS

        ; line 7
        SCREEN_POS
        .db     0xe2,0xe4,0xe4,0xe4,0xe4,0xe4,0xe4,0xe4,0xe4,0xe4,0xe3
        .db     0x20,0x20,0x20,0x20,0x20
        .db     0x20,0x01,0x20,0x20,0x95,0x8f,0x03,0x20
        .db     0x20,0x20,0x02,0x10,0x03,0x17,0x20,0x20
        SCREEN_POS

        ; line 8
        SCREEN_POS
        .db     0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20
        .db     0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20
        .db     0x02,0x03,0x03,0x03,0x03,0x20,0x20,0x20
        .db     0x20,0x20,0x20,0x02,0x16,0x20,0x20,0x20
         SCREEN_POS

        ; line 11
        SCREEN_POS
        .db     0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20 ;        
        .db     0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20 ;        
        .db     0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20 ;        
        .db     0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20 ;        
         SCREEN_POS

        ; line 12
        SCREEN_POS
        .db     0x20,0x20,0x20,0x15,0x20,0x20,0x20,0x20 ;   4    
        .db     0x20,0x20,0x20,0x20,0x01,0x20,0x20,0x20 ;    0   
        .db     0x20,0x20,0x20,0x20,0x20,0x20,0x15,0x20 ;      4 
        .db     0x20,0x20,0x20,0x20,0x15,0x9f,0x20,0x20 ;    42  
         SCREEN_POS

        ; line 13
        SCREEN_POS
        .db     0x20,0x20,0x20,0x15,0x15,0x95,0x97,0x96 ;   4455=
        .db     0x96,0x95,0x03,0x14,0x15,0x1d,0x96,0x97 ;=5634<=2
        .db     0x03,0x14,0x20,0x20,0x20,0x20,0x15,0x02 ;63    41
        .db     0x96,0x97,0x03,0x14,0x82,0x01,0x20,0x20 ;8263;0  
         SCREEN_POS

        ; line 14
        SCREEN_POS
        .db     0x20,0x10,0x20,0x15,0x15,0x95,0x95,0x95 ; 3 44555
        .db     0x95,0x95,0x8f,0x05,0x15,0x15,0x95,0x0a ;55704451
        .db     0x8f,0x15,0x20,0x20,0x10,0x20,0x15,0x16 ;74  3 49
        .db     0x94,0x95,0x20,0x10,0x15,0x96,0x20,0x20 ;=5 348  
         SCREEN_POS

        ; line 15
        SCREEN_POS
        .db     0x20,0x9a,0x8f,0x05,0x02,0x01,0x02,0x02 ; 8701011
        .db     0x02,0x95,0x20,0x20,0x01,0x01,0x02,0x08 ;15  0011
        .db     0x8f,0x05,0x20,0x20,0x9a,0x8f,0x05,0x02 ;70  8701
        .db     0x03,0x20,0x03,0x20,0x01,0x20,0x01,0x20 ;6 6 0 0 
         SCREEN_POS

        ; line 16
        SCREEN_POS
        .db     0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20 ;        
        .db     0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20 ;        
        .db     0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20 ;        
        .db     0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20 ;        
        SCREEN_POS
.endm

.macro MONSTER_IMG_CONTENT
        .db     0x3c,0x2f,0xdf,0x2f,0xdf,0xb1,0x3e,0xb1
        .db     0xfc,0x95,0x20,0xf7,0x20,0xf6,0x20,0x2f
        .db     0x87,0x02,0x0c,0x03,0x0c,0x03,0x8a,0x05
        .db     0x20,0xf5,0x20,0xee,0x94,0xee,0x01,0xf4
        .db     0x8b,0xec,0x8f,0xec,0x58,0x03,0x83,0xed
        .db     0xf7,0xf5,0xea,0xeb,0xf6,0xf4,0x20,0x20
        .db     0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20
.endm
